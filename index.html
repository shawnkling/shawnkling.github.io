 <!DOCTYPE html>
<html>
<head>
    <title>MATILDARDY!!!!</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
        var fontFamilies = ['Montez, cursive', 'Playwrite AT, cursive', 'Bonbon, cursive', 'Covered By Your Grace, cursive', 'Indie Flower, cursive', 'Nerko One, cursive', 'Gochi Hand, cursive', 'Schoolbell, cursive', 'Qwigley, cursive', 'Waiting for the Sunrise, cursive', 'Lacquer, cursive', 'Hachi Maru Pop, cursive'];

        $(document).ready(function() {
            $('#newplayer').focus();
            $("#addplayer").click(function() {
                var randomIndex = Math.floor(Math.random() * fontFamilies.length);
                var font = fontFamilies[randomIndex];
                fontFamilies.splice(randomIndex, 1);
                var inputValue = $('#newplayer').val();
                var currentPlayer = $('#playercount').val();

                $(".player-container").append("<div class='player' style='font-family: "+font+"'><button class='add-button' id='"+currentPlayer+"'><div class='score' id = 'score"+currentPlayer+
                    "'>0</div></button><button class='sub-button' id='"+currentPlayer+"'><div class='playername' style='transform:skew("+getSkew()+"deg,"+getSkew()+"deg);'><input type='hidden' id='hscore"+currentPlayer+"' value='0'>"+inputValue+
                    "</div></button><div class='addsub'>");


                $('#newplayer').val('');
                $('#newplayer').focus();
                currentPlayer++;
                $('#playercount').val(currentPlayer);
            });

            $(document).on("click",".add-button", function () {
                var clickedBtnID = $(this).attr('id');
                var oldscore = "#score"+clickedBtnID;
                var oldscoreValue = $(oldscore).html();
                oldscoreValue=parseInt(oldscoreValue)+100;
                if(oldscoreValue<0)
                    $(oldscore).css('color', 'red');
                else
                    $(oldscore).css('color', 'white');             
                $(oldscore).html(oldscoreValue);
            });
            
            $(document).on("click",".sub-button", function () {
                var clickedBtnID = $(this).attr('id');
                var oldscore = "#score"+clickedBtnID;
                var oldscoreValue = $(oldscore).html();
                oldscoreValue-=100;
                if(oldscoreValue<0)
                    $(oldscore).css('color', 'red');
                else
                    $(oldscore).css('color', 'white');    
                $(oldscore).html(oldscoreValue);
            });

            $(document).on("click",".refresh", function () {
                if(document.getElementById('verify').checked) {
                    $("#verify").prop("checked", false);
                    location.reload();
                }
                else {
                    $("#vtext").css("visibility", "visible");
                }
            });            
            
            $("#newplayer").keyup(function(event) {
                if (event.keyCode === 13) {
                    $("#addplayer").click();
                }
            });

        function getSkew(min, max) {
            min = Math.ceil(-15);
            max = Math.floor(15);
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        });

        
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montez&family=Playwrite+AT&family=Bonbon&family=Covered+By+Your+Grace&family=Gochi+Hand&family=Hachi+Maru+Pop&family=Indie+Flower&family=Lacquer&family=Nerko+One&family=Qwigley&family=Schoolbell&family=Waiting+for+the+Sunrise&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
<div id="jep">MATILDARDY!</div>

<div class="player-container">

</div>
<span class="verify"><input type="checkbox" id="verify"><span id="vtext">check box before refreshing</span></span>
<div class="refresh"></div>
<input type = "hidden" id = "playercount" value="1">
<div class = "bottom"><input name = "newplayer" id="newplayer" type="text" maxlength="5"> <button type="submit" name="addplayer" id="addplayer">Add Player</button></div>

</body>
</html>
